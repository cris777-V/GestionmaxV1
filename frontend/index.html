<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Inicio - GestionMax</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <h1>Bienvenido a GestionMax</h1>

  <h2 id="saludo"></h2>

  <div id="botones">
    <button onclick="location.href='login.html'">Iniciar sesión</button>
    <button onclick="location.href='register.html'">Registrarse</button>
    <button id="crear-solicitud">Crear solicitud</button>
    <button id="ver-solicitudes" style="display: none;">Ver mis solicitudes</button>
    <button id="ir-perfil" style="display: none;">Mi perfil</button>
  </div>

  <p id="mensaje-alerta" style="color: red;"></p>


  <section id="descripcion">
  <h2>¿Qué es GestionMax?</h2>
  <p>
    GestionMax es una plataforma web diseñada para ayudar a negocios de cualquier tamaño a gestionar sus servicios a domicilio con mayor orden, eficiencia y simplicidad.
    Aquí podrás registrar solicitudes de clientes, administrar perfiles de usuario y mantener un historial organizado de cada atención prestada.
  </p>
  <p>
    Sabemos que para muchos negocios, la atención personalizada y los pedidos a domicilio son el corazón de su operación. GestionMax nace para acompañarte en ese camino,
    dándote las herramientas necesarias para crecer sin complicaciones.
  </p>

  <h3>¿Qué problema solucionamos?</h3>
  <p>
    Hoy en día, muchos emprendedores y pequeñas empresas aún dependen de métodos poco confiables como hojas de papel, mensajes por WhatsApp o agendas físicas para
    registrar solicitudes de clientes. Esto genera confusión, pérdida de pedidos, retrasos, e incluso malentendidos con los usuarios finales.
  </p>
  <p>
    Con GestionMax, todo esto queda centralizado en una interfaz clara y moderna, permitiéndote:
    <ul>
      <li>Registrar nuevas solicitudes en segundos.</li>
      <li>Consultar el historial de atenciones.</li>
      <li>Ver los datos de cada cliente y sus necesidades.</li>
      <li>Organizar tu trabajo diario de forma automática.</li>
    </ul>
  </p>

  <h3>¿Quiénes somos?</h3>
  <p>
    Somos un grupo de jóvenes desarrolladores con la convicción de que la tecnología debe estar al alcance de todos. GestionMax es el resultado de muchas horas de trabajo,
    pruebas y aprendizaje con un objetivo en común: <strong>crear una herramienta real, útil y cercana</strong> para aquellos que más lo necesitan.
  </p>
  <p>
    Este proyecto nace no solo de la necesidad de optimizar procesos, sino también del deseo de aportar valor al crecimiento de miles de pequeños negocios que forman la base
    de nuestra economía.
  </p>

  <h3>¿Qué sigue?</h3>
  <p>
    GestionMax sigue en crecimiento. Esta es solo la primera versión. Poco a poco añadiremos nuevas funcionalidades, escucharemos tus sugerencias y mejoraremos para darte
    cada vez más control, más tranquilidad y más tiempo para dedicarte a lo que más te apasiona.
  </p>
  <p><em>Gracias por confiar en nosotros. GestionMax es tuyo tanto como nuestro.</em></p>
</section>

<footer>
  <div class="footer-content">
    <p>Hecho con 💙 por Cristhian Mosquera<span class="marca">®</span></p>
    <div class="contact-container">
      <div class="contact-block">
        <a href="mailto:Cristhianmosquera723@gmail.com">
          <i class="fas fa-envelope"></i> Cristhianmosquera723@gmail.com
        </a>
      </div>
      <div class="contact-block">
        <a href="tel:+573104457501">
          <i class="fas fa-phone"></i> +57 310 445 7501
        </a>
      </div>
    </div>
  </div>
</footer>

<!-- Font Awesome para íconos -->
<script src="https://kit.fontawesome.com/a2b6c70c3c.js" crossorigin="anonymous"></script>


<!-- Font Awesome para íconos -->
<script src="https://kit.fontawesome.com/a2b6c70c3c.js" crossorigin="anonymous"></script>


  <script>
  let sesionActiva = false;

  async function verificarSesion() {
    try {
      const res = await fetch('https://gestionmaxv1.onrender.com/panel', {
        credentials: 'include'
      });
      const data = await res.json();

      if (res.status === 200) {
        sesionActiva = true;
        document.getElementById('saludo').textContent = `Hola, ${data.usuario.nombre}`;
        document.getElementById('ver-solicitudes').style.display = 'inline-block';
        document.getElementById('ir-perfil').style.display = 'inline-block';
      } else {
        document.getElementById('saludo').textContent = 'Inicia sesión o regístrate para continuar.';
      }
    } catch (error) {
      document.getElementById('saludo').textContent = 'Error al verificar la sesión.';
    }
  }

  // Acción del botón Crear Solicitud
  document.getElementById('crear-solicitud').addEventListener('click', () => {
    if (sesionActiva) {
      location.href = 'solicitudes.html';
    } else {
      document.getElementById('mensaje-alerta').textContent = 'Por favor, inicia sesión para crear una solicitud.';
    }
  });

  // Acción del botón Mi perfil
  document.getElementById('ir-perfil').addEventListener('click', () => {
    location.href = 'perfil.html';
  });
  
// Acción del botón Ver mis solicitudes
document.getElementById('ver-solicitudes').addEventListener('click', () => {
  location.href = 'ver-solicitudes.html'; // O el nombre que vayas a usar
});

  verificarSesion();
</script>

</body>
</html>
